+function($){"use strict";function t(t,e){var n,o,a,r;for(n="",e=String(e).replace(/\D/g,""),o=0,a=0;o<t.length;o+=1)/\d/g.test(t.charAt(o))?t.charAt(o)===e.charAt(a)?(n+=e.charAt(a),a+=1):n+=t.charAt(o):"d"!==t.charAt(o)?""===e.charAt(a)&&"+"!==t.charAt(o)||(n+=t.charAt(o)):""===e.charAt(a)?n+="":(n+=e.charAt(a),a+=1);return r=t.charAt(n.length),"d"!==r&&(n+=r),n}function e(t){var e=0,n;return document.selection?(t.focus(),n=document.selection.createRange(),n.moveStart("character",-t.value.length),e=n.text.length):(t.selectionStart||0===t.selectionStart)&&(e=t.selectionStart),e}function n(t,e){var n;document.selection?(t.focus(),n=document.selection.createRange(),n.moveStart("character",-t.value.length),n.moveStart("character",e),n.moveEnd("character",0),n.select()):(t.selectionStart||0===t.selectionStart)&&(t.selectionStart=e,t.selectionEnd=e,t.focus())}var o=function(t,e){this.options=$.extend({},$.fn.bfhphone.defaults,e),this.$element=$(t),(this.$element.is('input[type="text"]')||this.$element.is('input[type="tel"]'))&&this.addFormatter(),this.$element.is("span")&&this.displayFormatter()};o.prototype={constructor:o,addFormatter:function(){var t;""!==this.options.country&&(t=$(document).find("#"+this.options.country),0!==t.length?(this.options.format=BFHPhoneFormatList[t.val()],t.on("change",{phone:this},this.changeCountry)):this.options.format=BFHPhoneFormatList[this.options.country]),this.$element.on("keyup.bfhphone.data-api",o.prototype.change),this.loadFormatter()},loadFormatter:function(){var e;e=t(this.options.format,this.$element.val()),this.$element.val(e)},displayFormatter:function(){var e;""!==this.options.country&&(this.options.format=BFHPhoneFormatList[this.options.country]),e=t(this.options.format,this.options.number),this.$element.html(e)},changeCountry:function(t){var e,n;e=$(this),n=t.data.phone,n.$element.val(String(n.$element.val()).replace(/\+\d*/g,"")),n.options.format=BFHPhoneFormatList[e.val()],n.loadFormatter()},change:function(o){var a,r,h,i;return a=$(this).data("bfhphone"),!(!a.$element.is(".disabled")&&void 0===a.$element.attr("disabled"))||(r=e(a.$element[0]),h=!1,r===a.$element.val().length&&(h=!0),8===o.which&&"d"!==a.options.format.charAt(a.$element.val().length)&&a.$element.val(String(a.$element.val()).substring(0,a.$element.val().length-1)),(i=t(a.options.format,a.$element.val()))===a.$element.val()||(a.$element.val(i),h&&(r=a.$element.val().length),n(a.$element[0],r),!0))}};var a=$.fn.bfhphone;$.fn.bfhphone=function(t){return this.each(function(){var e,n,a;e=$(this),n=e.data("bfhphone"),a="object"==typeof t&&t,n||e.data("bfhphone",n=new o(this,a)),"string"==typeof t&&n[t].call(e)})},$.fn.bfhphone.Constructor=o,$.fn.bfhphone.defaults={format:"",number:"",country:""},$.fn.bfhphone.noConflict=function(){return $.fn.bfhphone=a,this},$(document).ready(function(){$('form input[type="text"].bfh-phone, form input[type="tel"].bfh-phone, span.bfh-phone').each(function(){var t;t=$(this),t.bfhphone(t.data())})})}(window.jQuery);